var Osc,types,wave_sawtooth,wave_sine,wave_square,wave_triangle,indexOf=[].indexOf||function(e){for(var n=0,t=this.length;n<t;n++){if(n in this&&this[n]===e)return n}return-1};types=['sine','square','triangle','sawtooth'];Osc=(function(){function e(e){var n;if(!(e&&e.freq)){throw new Error('Missing Frequency Value')}if(typeof e.freq!=='number'){throw new Error("Frequency must be numeric")}this.freq=e.freq;e.amp==null&&(e.amp=1);if(!(e.amp.tf!=null||typeof e.amp==='number')){throw new Error('Amplitude must be numeric, Osc or Env')}this.amp=e.amp;e.phase==null&&(e.phase=0);if(!(e.phase.tf!=null||typeof e.phase==='number')){throw new Error('Phase must be numeric, Osc or Env')}this.phase=e.phase;e.type==null&&(e.type='sine');if(n=e.type, indexOf.call(types,n)<0){throw new Error('Type must be string supported')}this.type=e.type}e.types=function(){return types};e.prototype.clone=function(){var n,t,r,u,p;n=this.amp.clone!=null?this.amp.clone():this.amp;t=this.freq.clone!=null?this.freq.clone():this.freq;p=this.type.clone!=null?this.type.clone():this.type;u=this.phase.clone!=null?this.phase.clone():this.phase;r=new e({freq:t,amp:n,phase:u,type:p});return r};e.prototype.getAmp=function(){return this.amp};e.prototype.getFreq=function(){return this.freq};e.prototype.getPhase=function(){return this.phase};e.prototype.getType=function(){return this.type};e.prototype.tf=function(e){var n,t,r,u;n=this.amp;t=function(e){var t;return(t=typeof n.tf==="function"?n.tf(e):void 0)!=null?t:n};u=this.phase;r=function(e){var n;return(n=typeof u.tf==="function"?u.tf(e):void 0)!=null?n:u};switch(this.type){case 'sine':return wave_sine(e,t,this.freq,r);case 'square':return wave_square(e,t,this.freq,r);case 'triangle':return wave_triangle(e,t,this.freq,r);case 'sawtooth':return wave_sawtooth(e,t,this.freq,r);default:throw new Error('Waveform Type Selection Error')}};return e})();wave_sine=function(e,n,t,r){return Math.sin(2*Math.PI*e*t+r(e))*n(e)};wave_square=function(e,n,t,r){if(Math.sin(2*Math.PI*e*t+r(e))>0){return n(e)}else{return-n(e)}};wave_triangle=function(e,n,t,r){var u;u=Math.asin(Math.sin(2*Math.PI*t*e+r(e)));u/=Math.PI/2;return u*n(e)};wave_sawtooth=function(e,n,t,r){return-(2*n(e)/Math.PI)*Math.atan(1/Math.tan(e*Math.PI*t+Math.PI/2+r(e)/2))};module.exports=Osc